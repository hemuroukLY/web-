"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[197],{7578:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"absolute"}},[e("el-form",{staticStyle:{position:"relative",left:"300px"},attrs:{"status-icon":"","label-width":"100px"}},[e("el-form-item",{attrs:{label:"账号名:",prop:"pass"}},[t._v(" "+t._s(t.user.username)+" ")]),e("el-form-item",{attrs:{label:"密码:",prop:"checkPass"}},[t._v(" "+t._s(t.user.password)+" ")]),e("el-form-item",{attrs:{label:"修改密码",prop:"checkPass"}},[e("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),e("el-form-item",{staticStyle:{position:"absolute"}},[e("el-button",{staticStyle:{position:"relative",left:"20px"},attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("提交")])],1)],1)],1)},o=[],r=(s(4114),s(5068)),l={data(){return{user:{},newPassword:"",username:""}},methods:{submitForm(){var t={username:(0,r.s)(localStorage.getItem("jwt")).username,password:this.newPassword};this.$axios({url:"http://localhost:8080/updatePassword",method:"post",data:t,headers:{"Content-Type":"application/json",token:localStorage.getItem("jwt")}}).then((t=>{t?(alert("修改成功"),this.GetData()):alert("修改失败"),console.log(t.data)})).catch((t=>{this.$router.push({path:"/login"}),console.log(t)}))},GetData(){var t={username:(0,r.s)(localStorage.getItem("jwt")).username,password:""};this.$axios({url:"http://localhost:8080/searchTeacher",method:"post",data:t,headers:{"Content-Type":"application/json",token:localStorage.getItem("jwt")}}).then((t=>{this.user=t.data})).catch((t=>{console.log(t),this.$router.push("/login"),alert("请重新登录")}))}},mounted(){this.GetData()}},n=l,i=s(1656),p=(0,i.A)(n,a,o,!1,null,"6b79898b",null),u=p.exports}}]);
//# sourceMappingURL=197.2365283b.js.map