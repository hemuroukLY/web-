"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[169],{2169:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapperBox",attrs:{id:"stu"}},[e("div",{staticClass:"container"},[e("table",{attrs:{id:"containerTable"}},[e("thead",{staticClass:"tableHeaher"},[e("tr",[e("th",[e("input",{staticClass:"checkAll",attrs:{type:"checkbox"},on:{click:function(e){return t.checkAll()}}})]),e("th",[t._v("序号")]),e("th",[t._v("学号")]),e("th",[t._v("姓名")]),e("th",[t._v("性别")]),e("th",[t._v("生辰")]),e("th",[t._v("操作")])])]),e("tbody",{attrs:{id:"tdata"}},t._l(t.students,(function(a,o){return e("tr",{key:o+1,staticClass:"trHover",attrs:{"value-format":"yyyy-MM-dd"}},[e("td",[e("input",{staticClass:"checkone",attrs:{type:"checkbox"},domProps:{value:a.id}})]),e("td",{staticClass:"stuSequence"},[t._v(t._s(o+1))]),e("td",{staticClass:"stuId"},[t._v(t._s(a.id))]),e("td",{staticClass:"stuName"},[t._v(t._s(a.name))]),e("td",{staticClass:"stuSex"},[t._v(t._s(a.gender))]),e("td",{staticClass:"stuYear"},[t._v(t._s(a.birthday))]),e("td",[e("a",{staticClass:"updateInf",on:{click:function(e){return t.UpdatePerson(a.id)}}},[t._v("修改")])])])})),0),e("tfoot")])]),e("div",{staticClass:"footer"},[e("el-button",{staticStyle:{width:"93px",height:"38px"},attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("新增")]),e("el-button",{staticStyle:{width:"93px",height:"38px"},attrs:{type:"primary"},on:{click:function(e){return t.DeletePerson()}}},[t._v("删除")]),e("div",{staticClass:"rq"},[e("ul",{staticStyle:{"text-align":"center"}},[e("li",{on:{click:function(e){return t.prePage()}}},[t._m(0)]),t._l(t.page.pageNumber,(function(a){return e("li",{key:a,class:t.page.pageNo==a?"active":"",on:{click:function(e){return t.curPage(a)}}},[e("a",[t._v(t._s(a))])])})),e("li",{on:{click:function(e){return t.nextPage()}}},[t._m(1)])],2)])],1),e("el-dialog",{attrs:{title:"新增学生信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"学生姓名"}},[e("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"学生性别"}},[e("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}},[e("el-option",{attrs:{label:"男",value:"男"}}),e("el-option",{attrs:{label:"女",value:"女"}})],1)],1),e("el-form-item",{attrs:{label:"出生日期"}},[e("el-col",{attrs:{span:11}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.form.birthday,callback:function(e){t.$set(t.form,"birthday",e)},expression:"form.birthday"}})],1),e("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")])],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.FormSubmit()}}},[t._v("确 定")])],1)],1),e("el-dialog",{attrs:{title:"修改学生信息",visible:t.UpdataKey},on:{"update:visible":function(e){t.UpdataKey=e}}},[e("el-form",{ref:"UpdataForm",attrs:{model:t.UpdataForm,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"修改姓名"}},[e("el-input",{model:{value:t.UpdataForm.name,callback:function(e){t.$set(t.UpdataForm,"name",e)},expression:"UpdataForm.name"}})],1),e("el-form-item",{attrs:{label:"学生性别"}},[e("el-select",{attrs:{placeholder:"请选择性别"},model:{value:t.UpdataForm.gender,callback:function(e){t.$set(t.UpdataForm,"gender",e)},expression:"UpdataForm.gender"}},[e("el-option",{attrs:{label:"男",value:"男"}}),e("el-option",{attrs:{label:"女",value:"女"}})],1)],1),e("el-form-item",{attrs:{label:"出生日期"}},[e("el-col",{attrs:{span:11}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.UpdataForm.birthday,callback:function(e){t.$set(t.UpdataForm,"birthday",e)},expression:"UpdataForm.birthday"}})],1),e("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")])],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.SendUpdataInfo()}}},[t._v("确认修改")])],1)],1)],1)},s=[function(){var t=this,e=t._self._c;return e("a",[e("span",[t._v("«")])])},function(){var t=this,e=t._self._c;return e("a",[e("span",[t._v("»")])])}],l=(a(4114),a(9148)),r=a.n(l),i={data(){return{students:[],dialogFormVisible:!1,UpdataKey:!1,page:{pageTotal:"",pageNo:"",pageSize:"",pageNumber:""},form:{id:"",name:"",gender:"",birthday:""},UpdataForm:{id:"",name:"",gender:"",birthday:""},formLabelWidth:"120px"}},methods:{checkAll(){const t=document.querySelector(".checkAll"),e=document.querySelectorAll(".checkone");for(let a=0;a<e.length;a++)e[a].checked=t.checked},FormSubmit(){this.dialogFormVisible=!1;var t={name:this.form.name,gender:this.form.gender,birthday:this.form.birthday};this.$axios({url:"http://localhost:8080/addStudent",method:"post",data:t,headers:{"Content-Type":"application/json",token:localStorage.getItem("jwt")}}).then((t=>{this.GetData(this.page.pageNo),console.log(t)})).catch((t=>{console.log(t),this.$router.push("/login"),alert("请重新登录")}))},UpdatePerson(t){let e;for(this.UpdataKey=!0,e=0;;e++)if(this.students[e].id===t){this.UpdataForm.id=this.students[e].id,this.UpdataForm.name=this.students[e].name,this.UpdataForm.gender=this.students[e].gender,this.UpdataForm.birthday=this.students[e].birthday;break}},SendUpdataInfo(){this.UpdataKey=!1;var t={id:this.UpdataForm.id,name:this.UpdataForm.name,gender:this.UpdataForm.gender,birthday:this.UpdataForm.birthday};this.$axios({url:"http://localhost:8080/updateStudent",method:"post",data:t,headers:{"Content-Type":"application/json",token:localStorage.getItem("jwt")}}).then((t=>{this.GetData(this.page.pageNo),console.log(t)})).catch((t=>{console.log(t),this.$router.push("/login"),alert("请重新登录")}))},DeletePerson(){const t=document.querySelectorAll(".checkone");for(let e=0;e<t.length;e++)!0===t[e].checked&&this.$axios({url:"http://localhost:8080/deleteStudent/"+t[e].value,method:"get",data:t[e].value,headers:{"Content-Type":"application/json",token:localStorage.getItem("jwt")}}).then((t=>{console.log(t),this.GetData(this.page.pageNo),document.querySelector(".checkAll").checked=!1,this.checkAll()})).catch((t=>{console.log(t),this.$router.push("/login"),alert("请重新登录")}))},GetData(t){this.page.pageNo=t||this.page.pageNo,this.$axios({url:`http://localhost:8080/searchStudent/${this.page.pageNo}`,method:"get",headers:{token:localStorage.getItem("jwt")}}).then((t=>{for(var e=0;e<t.data.list.length;e++){this.students[e]=t.data.list[e];let a=r()(t.data.list[e].birthday).format("YYYY-MM-DD");this.students[e].birthday=a}this.students=t.data.list,this.page.pageTotal=t.data.total,this.page.pageNumber=t.data.pages})).catch((t=>{console.log(t),this.$router.push("/login"),alert("请重新登录")}))},prePage(){this.page.pageNo>1&&this.GetData(--this.page.pageNo)},nextPage(){this.page.pageNo<this.page.pageTotal/10&&this.GetData(++this.page.pageNo)},curPage(t){this.GetData(t)}},mounted(){this.GetData(1)}},n=i,d=a(1656),c=(0,d.A)(n,o,s,!1,null,"e5140dda",null),h=c.exports}}]);
//# sourceMappingURL=169.9413b741.js.map